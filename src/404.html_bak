<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Redirecting...</title>
    <script>
      // Get the current path from the URL, like /about or /contact
      var path = window.location.pathname;

      // Get the segment of the path for the GitHub Pages repository, if any
      // For example, if your site is at https://user.github.io/my-repo/, this gets /my-repo
      var repo = '/' + path.split('/')[1];

      // Redirect from the 404 page to the index.html page, passing the
      // original path as a query parameter.
      // The session storage is used to prevent an infinite redirect loop.
      if (sessionStorage.redirect) {
        sessionStorage.removeItem('redirect');
      } else {
        sessionStorage.redirect = true;
        window.location.href = repo + '/?p=' + path;
      }
    </script>
  </head>
  <body>
    If you are not redirected automatically, please <a href="/">click here</a>.
  </body>
</html>